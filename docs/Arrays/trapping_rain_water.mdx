---
sidebar_position: 2
title:  Trapping Rain Water
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

export const Highlight = ({children, color,txt}) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>
    {children}
  </span>
);

Level - <Highlight color="#cc0000">Hard</Highlight>

### Statement

> Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.

### You can try it at

- https://leetcode.com/problems/trapping-rain-water/

### Example

![eg1](https://assets.leetcode.com/uploads/2018/10/22/rainwatertrap.png)

```
Input: height = [0,1,0,2,1,0,1,3,2,1,2,1]
Output: 6
Explanation: The above elevation map (black section) is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped.

```

### Brute Force Approach


<Tabs>
<TabItem value="java" label="Java">

```js
// brute force approach
    public int trap(int[] height) {
        int n = height.length;
        int[] left = new int[n];// track the max from left to right
        int[] right = new int[n];// track the max from right to left
        int res = 0;
        
        // traverse from left to right
        int left_max = 0;
        for(int i=0;i<n;i++){
            left_max = Math.max(left_max,height[i]);
            left[i] = left_max;
        }
        
        // traverse from right to left
        int right_max = 0;
        for(int i=n-1;i>=0;i--){
            right_max = Math.max(right_max,height[i]);
            right[i] = right_max;
        }
        
        // get the water capacity at each height
        for(int i=0;i<n;i++){
            int mini = Math.min(left[i],right[i]);// get minimum among left and right
            res+=Math.abs(mini-height[i]);// get water capacity
        }
        
        return res;
    }

```

</TabItem>

<TabItem value="other" label="Other">

```
currently no other languages supported
```

</TabItem>

</Tabs>

### Brute Force Time and Space Complexity

> Time: `O(N)`, Space: `O(2*N)`


### Optimal Approach with O(1) space / Two Pointer


<Tabs>
<TabItem value="java" label="Java">

```js

// optimal approach/ 2 pointer / constant space complexity
    public int trap(int[] height) {
        int n = height.length;
        int left_max = 0,right_max = 0;// track left max and right max
        int res = 0;
        int left = 0,right = n-1;// 2 pointer
        
        while(left<=right){
            left_max = Math.max(height[left],left_max);// update the left_max
            right_max = Math.max(height[right],right_max);// update the right_max
            
            // move from left side
            if(left_max < right_max){
                res+=Math.abs(height[left++]-left_max);
            }
            // move from right side
            else{
                res+=Math.abs(height[right--]-right_max);
            }
        }
        return res;
    }
```

</TabItem>

<TabItem value="other" label="Other">

```
currently no other languages supported
```

</TabItem>

</Tabs>


### Brute Force Time and Space Complexity

> Time: `O(N)`, Space: `O(1)`