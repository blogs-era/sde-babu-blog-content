```js
class Solution {
    /*
    arr: [1,2,3,4]
    space : O(N)
    prefix: [1,2,6,24]
    postfix: [24,24,12,4]
    out[i] = prefix[i-1]*prefix[i+1]
    out: [24,12,8,6]

    how to reduce the space: intution is for prefix we need the previous element so we can use that 
    take output[] and add the prefix: [1,1,2,6]  
    now take postfix variable and traverse from the back
    [1,1,2,6] 
    i = 3 : postfix = 1 : out[3] = postfix * arr[i] = 1*6 = 6 g....
    */
    
    public int[] productExceptSelf(int[] nums) {
        int n = nums.length;
        int[] output = new int[n];
        output[0] = 1;// first element is 1
        // fill the prefix array
        for(int i=1;i<n;i++){
            output[i] = output[i-1]*nums[i-1];
        }
        for(int out: output)System.out.print(out+" ");
        int postfix = 1;
        // traverse from back
        for(int i=n-1;i>=0;i--){
            output[i] = output[i]*postfix;
            postfix = postfix*nums[i];
        }
        return output;
    }
}
```